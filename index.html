<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/pdf.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta
      name="description"
      content="Web site created using create-react-app"
    />
    <link rel="apple-touch-icon" href="/logo192.png" />
    <link rel="manifest" href="/manifest.json" />
    <script
      src="https://cdn.asprise.com/scannerjs/scanner.js"
      type="text/javascript"
    ></script>

    <script>
      //
      // Please read scanner.js developer's guide at: http://asprise.com/document-scan-upload-image-browser/ie-chrome-firefox-scanner-docs.html
      //

      /** Initiates a scan */
      function scanToJpg() {
        scanner.scan(displayImagesOnPage, {
          output_settings: [
            {
              type: "return-base64",
              format: "jpg",
            },
          ],
        });
      }

      /** Processes the scan result */
      function displayImagesOnPage(successful, mesg, response) {
        if (!successful) {
          // On error
          console.error("Failed: " + mesg);
          return;
        }

        if (
          successful &&
          mesg != null &&
          mesg.toLowerCase().indexOf("user cancel") >= 0
        ) {
          // User cancelled.
          console.info("User cancelled");
          return;
        }

        var scannedImages = scanner.getScannedImages(response, true, false); // returns an array of ScannedImage
        for (
          var i = 0;
          scannedImages instanceof Array && i < scannedImages.length;
          i++
        ) {
          var scannedImage = scannedImages[i];
          processScannedImage(scannedImage);
        }
      }

      /** Images scanned so far. */
      var imagesScanned = [];

      /** Processes a ScannedImage */
      function processScannedImage(scannedImage) {
        imagesScanned.push(scannedImage);
        var elementImg = scanner.createDomElementFromModel({
          name: "img",
          attributes: {
            class: "scanned",
            src: scannedImage.src,
          },
        });
        document.getElementById("images").appendChild(elementImg);
      }
    </script>

    <title>Hệ thống số hóa iStorage</title>
  </head>

  <body>
    <div id="alert"></div>
    <div id="root"></div>
    <script
      src="https://kit.fontawesome.com/2bfdbb799b.js"
      crossorigin="anonymous"
    ></script>
    <script type="module" src="/src/index.jsx"></script>
  </body>
</html>
